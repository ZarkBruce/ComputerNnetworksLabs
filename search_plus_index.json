{"./":{"url":"./","title":"Introduction","keywords":"","body":"计算机网络实验 实验一：VLAN交换技术 实验二： 实验三： 实验四： 修改日志 20200602 完成gitbook格式的配置 20200604 更新VLAN综述与VLAN实验部分 20200606 完成实验任务一 "},"chapter1/readme.html":{"url":"chapter1/readme.html","title":"VLAN交换技术","keywords":"","body":"VLAN交换技术 本章内容主要包括VLAN综述，VLAN实验等几个部分。 VLAN综述 VLAN引入的背景 VLAN的实现机制 不同VLAN间通信 不同交换机间同一VLAN的通信方式及利弊 方式1：不同交换机的相同vlan各取一个端口进行通信（VLAN数目较少时） 方式2：VLAN trunking进行通信（主流VLAN通信方式） VLAN trunking如何在trunk port进行VLAN识别:IEEE 802.1Q Standard VLAN实验 使用两台交换机划分出两个VLAN,分别属于金融部门和销售部门，其中PC1与PC3属于金融部门，PC2与PC4属于销售部门。 生成树协议STP 实验任务一 使用3个2590-24交换机划分出3个虚拟局域网络，分别为VLAN 10,VLAN 20以及VLAN 30,验证VLAN间通信。 验证生成树协议STP作用。 "},"chapter1/ch01.html":{"url":"chapter1/ch01.html","title":"chapter1.1:VLAN综述","keywords":"","body":"chapter1.1:VLAN综述 引入背景 VLAN(Virtual LAN)的引入主要是为了解决传统的交换局域网(switched LANs)在配置时存在的问题。 缺少流量隔离虽然LAN的层次结构将分组流量限制在单个交换机内，但广播流量（broadcast traffic)仍需要穿过整个网络。在某个网络接口被关闭或者错误配置的情况下，可能带来广播风暴(boradcast storm)的问题。 LAN负载不均衡这一问题导致将导致部分交换机不能被充分利用。例如某个机构包含10个分组，每个分组包含10人，需要10个交换机，因此96端口的交换机就不能被充分利用。 用户管理不便例如某机构中的一个用户从一个分组调往另一个分组，或者一个用户属于两个分组，则都需要重新进行物理布线。 VLAN实现机制 在基于端口(port-based)的VLAN中,通过将交换机的端口（接口interface）划分为若干个部分，每一个部分组成一个VLAN，每个VLAN中的端口形成一个广播域。交换机仅在属于同一个VLAN的端口间转发帧。 不同VLAN间通信 将交换机中的某个未声明端口连接一个外部路由器，然后配置该端口，使该端口属于待通信的多个VLAN。 不同交换机间同一VLAN通信 方式1：在不同交换机的同一个VLAN上各取一个端口，连接这对端口即可进行通信。 该通信方式适用于VLAN个数较少的情况 方式2：VLAN trunking:在不同交换机上各取一个未声明端口作为trunk port,连接交换机上的trunk port即可通信。 主流的同一VLAN通信方式，中继端口属于交换机上所有VLAN IEEE 802.1Q Standard 在上述的VLAN trunking通信方式中,存在这样一个问题——交换机如何识别到达中继端口的帧属于哪个特定VLAN.为了解决这一问题，1998年，IEEE定义了一个新的扩展以太网帧格式(extended Ethernet frame format)802.1Q，其在初始的以太网帧格式中增加了VLAN Tag部分。交换机将在发送端的VLAN trunk将VLAN Tag加入帧，然后在接收端的VLAN trunk解析并移除Vlan Tag VLAN Tag包括两部分：TPID(Tag Protocal Identifier)和TCI(Tag Control Information). TPID两个字节信息，为VLAN协议ID，其值为0x8100. TCI两个字节信息，分为三个子部分。其中低12位为VLAN标识符域，3位为优先级域，1位为规范格式指示器(Canonical format indicator). "},"chapter1/ch02.html":{"url":"chapter1/ch02.html","title":"chapter1.2:VLAN实验","keywords":"","body":"chapter1.2:VLAN实验 实验目的 使用两台交换机划分出两个VLAN,分别属于金融部门和销售部门，其中PC1与PC3属于金融部门(VLAN 2)，PC2与PC4属于销售部门(VLAN 3)。 实验环境配置 交换机2960-24TT配置 step 1:若交换机在之前配置过，则清除所有配置，并在shutdown状态下初始化所有端口。 Switch>enable Switch#config terminal Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#interface range fa0/1-24 Switch(config-if-range)#shutdown Switch(config-if-range)#interface range gi0/1-2 Switch(config-if-range)#shutdown step 2:给VALN指定一个ID，并命名。 Switch(config)#vlan 2 Switch(config-vlan)#name finance Switch(config)#vlan 3 Switch(config-vlan)#name sales step 3:给VLAN分配端口,fastEthernet0/1为VLAN 2端口，fastEthernet0/2为VLAN 3端口。 Switch(config)#interface fastEthernet0/1 Switch(config-if)#switchport access vlan 2 Switch(config-if)#interface fastEthernet0/2 Switch(config-if)#switchport access vlan 3 step 4:给vlan分配fastEthernet0/24端口，并将其设置为trunk port. Switch(config)#interface fastEthernet0/24 Switch(config-if)#switchport mode trunk step 5:设置允许通过trunk port进行通信的VLAN Switch(config-if)#switchport trunk allowed vlan 2-3 step 6:保存当前设置，交换机关机重启后自动加载设置。 Switch# copy running-config startup-config PC端配置 PC1(IP:192.168.1.2 submask:255.255.255.0 gateway:192.168.1.1) PC2(IP:192.168.1.3 submask:255.255.255.0 gateway:192.168.1.1) PC3(IP:192.168.1.4 submask:255.255.255.0 gateway:192.168.1.1) PC4(IP:192.168.1.5 submask:255.255.255.0 gateway:192.168.1.1) 实验结果 PC1 PING 192.168.1.3[不同VLAN] Packet Tracer PC Command Line 1.0 C:\\>PING 192.168.1.3 Pinging 192.168.1.3 with 32 bytes of data: Request timed out. Request timed out. Request timed out. Request timed out. Ping statistics for 192.168.1.3: Packets: Sent = 4, Received = 0, Lost = 4 (100% loss), PC1 PING 192.168.1.4[相同VLAN] C:\\>ping 192.168.1.4 Pinging 192.168.1.4 with 32 bytes of data: Reply from 192.168.1.4: bytes=32 time=1ms TTL=128 Reply from 192.168.1.4: bytes=32 time "},"chapter1/ch03.html":{"url":"chapter1/ch03.html","title":"chapter1.3:生成树协议STP","keywords":"","body":"chapter1.3:生成树协议STP "},"chapter1/ch04.html":{"url":"chapter1/ch04.html","title":"chapter1.4：实验任务一","keywords":"","body":"chapter1.4：实验任务一 实验目的 实现设备：2950T-24交换机一台，2950-24交换机两台，PC六台 使用交换机划分出3个虚拟局域网络，分别为VLAN 10,VLAN 20以及VLAN 30,验证VLAN间通信。 VLAN 10接入PC(A1,A2),VLAN 20接入pc(B1,B2),VLAN 30接入pc(C1,C2) 验证生成树协议STP作用。 实验环境配置 配置交换机划分vlan 1.对交换机0进行配置（划分为vlan 10与vlan 30) step1:给VLAN指定一个ID，并命名 Switch(config)#vlan 10 Switch(config-vlan)#name A Switch(config-vlan)#exit Switch(config)#vlan 30 Switch(config-vlan)#name C Switch(config)#vlan 20 Switch(config-vlan)#name B step2:给VLAN分配端口,fastEthernet0/1为VLAN 10端口，fastEthernet0/3为VLAN 30端口。 Switch(config)#interface fastEthernet0/1 Switch(config-if)#switchport access vlan 10 Switch(config-if)#exit Switch(config)#interface fastEthernet0/3 Switch(config-if)#switchport access vlan 30 step3:给vlan分配fastEthernet0/22与fastEthernet0/24端口，并将它们设置为trunk port. Switch(config)#interface fastEthernet0/22 Switch(config-if)#switchport mode trunk Switch(config-if)#exit Switch(config)#interface fastEthernet0/24 Switch(config-if)#switchport mode trunk step4:选择生成树模式 Switch(config)#spanning-tree mode rapid-pvst step5:保存当前设置，交换机关机重启后自动加载设置。 Switch#copy running-config startup-config 2.对交换机1进行配置 较交换机0仅需修改step2,3与step4. Switch(config)#interface fastEthernet0/1 Switch(config-if)#switchport access vlan 10 Switch(config-if)#exit Switch(config)#interface fastEthernet0/2 Switch(config-if)#switchport access vlan 20 Switch(config)#interface fastEthernet0/22 Switch(config-if)#switchport mode trunk Switch(config-if)#exit Switch(config)#interface fastEthernet0/23 Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20 "}}