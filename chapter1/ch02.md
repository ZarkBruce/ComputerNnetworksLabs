# chapter1.2:VLAN实验

## 实验目的
使用两台交换机划分出两个VLAN,分别属于金融部门和销售部门，其中PC1与PC3属于金融部门(VLAN 2)，PC2与PC4属于销售部门(VLAN 3)。 

## 实验环境配置
1. 交换机2960-24TT配置    
  
  step 1:若交换机在之前配置过，则清除所有配置，并在shutdown状态下初始化所有端口。
```shell
Switch>enable
Switch#config terminal
Enter configuration commands, one per line.  End with CNTL/Z.
Switch(config)#interface range fa0/1-24
Switch(config-if-range)#shutdown
Switch(config-if-range)#interface range gi0/1-2
Switch(config-if-range)#shutdown
```
step 2:给VALN指定一个ID，并命名。
```shell
Switch(config)#vlan 2
Switch(config-vlan)#name finance
Switch(config)#vlan 3
Switch(config-vlan)#name sales
```
step 3:给VLAN分配端口,fastEthernet0/1为VLAN 2端口，fastEthernet0/2为VLAN 3端口。
```shell
Switch(config)#interface fastEthernet0/1
Switch(config-if)#switchport access vlan 2
Switch(config-if)#interface fastEthernet0/2
Switch(config-if)#switchport access vlan 3
```
step 4:给vlan分配fastEthernet0/24端口，并将其设置为trunk port.
```shell
Switch(config)#interface fastEthernet0/24
Switch(config-if)#switchport mode trunk
```
step 5:设置允许通过trunk port进行通信的VLAN
```shell
Switch(config-if)#switchport trunk allowed vlan 2-3
```
step 6:保存当前设置，交换机关机重启后自动加载设置。
```shell
Switch# copy running-config startup-config
```
2. PC端配置
  
  - PC1(IP:192.168.1.2 submask:255.255.255.0 gateway:192.168.1.1)
  - PC2(IP:192.168.1.3 submask:255.255.255.0 gateway:192.168.1.1)
  - PC3(IP:192.168.1.4 submask:255.255.255.0 gateway:192.168.1.1)
  - PC4(IP:192.168.1.5 submask:255.255.255.0 gateway:192.168.1.1)
  
## 实验结果  

PC1 PING 192.168.1.3[不同VLAN]
```bash

Packet Tracer PC Command Line 1.0
C:\>PING 192.168.1.3

Pinging 192.168.1.3 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.168.1.3:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
```
PC1 PING 192.168.1.4[相同VLAN]
```bash
C:\>ping 192.168.1.4

Pinging 192.168.1.4 with 32 bytes of data:

Reply from 192.168.1.4: bytes=32 time=1ms TTL=128
Reply from 192.168.1.4: bytes=32 time<1ms TTL=128
Reply from 192.168.1.4: bytes=32 time<1ms TTL=128
Reply from 192.168.1.4: bytes=32 time<1ms TTL=128

Ping statistics for 192.168.1.4:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 1ms, Average = 0ms
```
